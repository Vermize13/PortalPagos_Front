<p-dialog 
  [(visible)]="visible"
  [modal]="true"
  [style]="{width: '500px'}"
  [header]="'Crear Nuevo Sprint'"
  [closable]="true"
  (onHide)="onCancel()">
  
  <div class="p-fluid">
    <div class="field mb-3">
      <label for="name" class="font-bold">Nombre del Sprint *</label>
      <input 
        id="name"
        type="text" 
        pInputText 
        [(ngModel)]="formData.name"
        placeholder="Ej: Sprint 1"
        [maxlength]="100"
        class="w-full"
      />
    </div>

    <div class="field mb-3">
      <label for="goal" class="font-bold">Objetivo del Sprint</label>
      <textarea 
        id="goal"
        pInputTextarea 
        [(ngModel)]="formData.goal"
        placeholder="Describe el objetivo principal de este sprint"
        [rows]="3"
        [maxlength]="500"
        class="w-full"
      ></textarea>
    </div>

    <div class="grid">
      <div class="col-12 md:col-6">
        <div class="field mb-3">
          <label for="startDate" class="font-bold">Fecha de Inicio *</label>
          <p-calendar 
            id="startDate"
            [(ngModel)]="formData.startDate"
            dateFormat="yy-mm-dd"
            [showIcon]="true"
            [iconDisplay]="'input'"
            placeholder="Seleccionar fecha"
            class="w-full"
          ></p-calendar>
        </div>
      </div>

      <div class="col-12 md:col-6">
        <div class="field mb-3">
          <label for="endDate" class="font-bold">Fecha de Fin *</label>
          <p-calendar 
            id="endDate"
            [(ngModel)]="formData.endDate"
            dateFormat="yy-mm-dd"
            [showIcon]="true"
            [iconDisplay]="'input'"
            placeholder="Seleccionar fecha"
            [minDate]="formData.startDate"
            class="w-full"
          ></p-calendar>
        </div>
      </div>
    </div>
  </div>

  <ng-template pTemplate="footer">
    <p-button 
      label="Cancelar" 
      icon="pi pi-times" 
      severity="secondary"
      [text]="true"
      (onClick)="onCancel()">
    </p-button>
    <p-button 
      label="Guardar" 
      icon="pi pi-check"
      [loading]="loading"
      [disabled]="!isFormValid()"
      (onClick)="onSave()">
    </p-button>
  </ng-template>
</p-dialog>
